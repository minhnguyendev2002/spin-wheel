<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="wheel-mid" style="width: 400px;">
        <div class="wheel-mid-container">
            <div class="fortune-wheel" id="fortune-wheel">
                <div class="fortune-wheel-circle ">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 360 360"
                        style="--dim: 360px; --r: 180px; --stroke-height: 6px;">
                        <defs>
                            <path d="M 180 345 L 190 315 L 180 320 L 170 315 L 180 340 M 180 355" id="arrow"></path>
                        </defs>
                        <g>
                            <g class="fortune-wheel-circle-dashes" id="fortune-wheel-circle-dashes"></g>
                        </g>
                        <g>
                            <g class="pointer fill-pointer" id="fill-pointer">
                                <use href="#arrow"></use>
                            </g>
                            <path
                                d="M 180 5 a 1 1 0 0 1 0 350 M 180 340 L 190 315 L 180 320 L 170 315 L 180 340 M 180 355 a 1 1 0 0 1 0 -350"
                                class="fortune-wheel-circle-fake-mask"></path>
                        </g>
                    </svg>
                </div>
                <!-- <div class="fortune-wheel-countdown"><span
                        class="fortune-wheel-countdown-time"> 20.21 </span></div> -->
            </div>
        </div>
    </div>

    <script>
        const array = [
            {
                "x1": 180,
                "y1": 180,
                "x2": 180,
                "y2": 360,
                "color": "var(--base-yellow)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-yellow); stroke-width: 15.708; --i: 0;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 200.89672454254145,
                "y2": 358.78290439354976,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 53;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 221.51085673363923,
                "y2": 355.1480767043683,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 2;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 241.56362579862036,
                "y2": 349.1446717414635,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 51;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 260.7838524360832,
                "y2": 340.8538752582142,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 4;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 278.91161605274505,
                "y2": 330.38780605432856,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 49;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 295.7017697435771,
                "y2": 317.88799976141604,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 6;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 310.92725548314877,
                "y2": 303.523494816372,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 47;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 324.3821746959079,
                "y2": 287.4885465065015,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 8;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 335.88457268119896,
                "y2": 270,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 45;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 345.2788992384493,
                "y2": 251.29435788704828,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 10;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 352.438112216788,
                "y2": 231.62458188799627,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 43;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 357.26539554219744,
                "y2": 211.25667198004749,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 12;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 359.6954684888283,
                "y2": 190.4660692038857,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 41;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 359.6954684888283,
                "y2": 169.53393079611436,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 14;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 357.26539554219744,
                "y2": 148.74332801995254,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 39;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 352.438112216788,
                "y2": 128.37541811200379,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 16;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 345.2788992384493,
                "y2": 108.70564211295178,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 37;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 335.88457268119896,
                "y2": 90.00000000000004,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 18;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 324.38217469590785,
                "y2": 72.51145349349845,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 35;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 310.9272554831489,
                "y2": 56.476505183628035,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 20;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 295.7017697435771,
                "y2": 42.11200023858399,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 33;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 278.9116160527451,
                "y2": 29.612193945671464,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 22;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 260.7838524360832,
                "y2": 19.14612474178577,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 31;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 241.5636257986204,
                "y2": 10.855328258536503,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 24;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 221.51085673363926,
                "y2": 4.851923295631707,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 29;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 200.89672454254153,
                "y2": 1.2170956064502718,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 26;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 180.00000000000003,
                "y2": 0,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 27;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 159.10327545745858,
                "y2": 1.2170956064502434,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 28;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 138.48914326636077,
                "y2": 4.851923295631707,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 25;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 118.43637420137964,
                "y2": 10.855328258536474,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 30;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 99.21614756391689,
                "y2": 19.14612474178574,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 23;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 81.088383947255,
                "y2": 29.61219394567138,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 32;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 64.29823025642294,
                "y2": 42.11200023858396,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 21;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 49.07274451685126,
                "y2": 56.47650518362795,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 34;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 35.61782530409212,
                "y2": 72.5114534934985,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 19;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 24.115427318801096,
                "y2": 89.99999999999991,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 36;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 14.721100761550673,
                "y2": 108.70564211295176,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 17;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 7.561887783211972,
                "y2": 128.37541811200384,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 38;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 2.7346044578025612,
                "y2": 148.74332801995254,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 15;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 0.3045315111717173,
                "y2": 169.5339307961141,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 40;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 0.3045315111717173,
                "y2": 190.46606920388567,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 13;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 2.734604457802533,
                "y2": 211.2566719800474,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 42;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 7.561887783212001,
                "y2": 231.62458188799627,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 11;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 14.721100761550673,
                "y2": 251.2943578870482,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 44;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 24.11542731880104,
                "y2": 270,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 9;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 35.61782530409218,
                "y2": 287.4885465065016,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 46;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 49.07274451685126,
                "y2": 303.5234948163721,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 7;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 64.29823025642287,
                "y2": 317.88799976141604,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 48;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 81.08838394725494,
                "y2": 330.38780605432856,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 5;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 99.21614756391676,
                "y2": 340.8538752582142,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 50;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 118.43637420137956,
                "y2": 349.1446717414636,
                "color": "var(--base-red)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-red); stroke-width: 15.708; --i: 3;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 138.4891432663608,
                "y2": 355.14807670436824,
                "color": "var(--base-black)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-black); stroke-width: 15.708; --i: 52;",
                "stroke_width": 15.708
            },
            {
                "x1": 180,
                "y1": 180,
                "x2": 159.1032754574586,
                "y2": 358.7829043935497,
                "color": "var(--base-blue)",
                "stroke-width": 15.708,
                "style": "--color: var(--base-blue); stroke-width: 15.708; --i: 1;",
                "stroke_width": 15.708
            }
        ];
        const container = document.getElementById('fortune-wheel-circle-dashes');
        const globalColor = document.getElementById('fortune-wheel');
        const fillPointer =  document.getElementById('fill-pointer');

        for (let index = 0; index < array.length; index++) {
            if (container) {
                const child = document.createElementNS("http://www.w3.org/2000/svg", "line");
                child.setAttribute("x1", array[index].x1);
                child.setAttribute("y1", array[index].y1);
                child.setAttribute("x2", array[index].x2);
                child.setAttribute("y2", array[index].y2);
                child.setAttribute("style", array[index].style);
                container.appendChild(child);
            }
        }

        let currentIndex = 0;
        let elapsedTime = 0;
        let interval;

        function spinWheel(stopIndex) {
            
            interval = setInterval(() => {
                if (elapsedTime >= 10000 && currentIndex === stopIndex) {
                    clearInterval(interval);
                    globalColor.setAttribute("style", `--countdown-color: ${array[stopIndex].color}`);
                    fillPointer.style.opacity = 1
                    container.style.transform = `rotate(${((360 / array.length) * stopIndex)-2}deg)`;
                    // container.classList.remove("sping-pro")
                    return;
                }
                const currentItem = array[currentIndex];
                globalColor.setAttribute("style", `--countdown-color: ${array[currentIndex].color}`);
                container.style.transform = `rotate(${((360 / array.length) * currentIndex)-2}deg)`;
                fillPointer.style.opacity = 0
                elapsedTime += 100
                currentIndex++;
            }, 100);
        }

        spinWheel(20);
    </script>
</body>

</html>